from django.test import TestCase

# Create your tests here.
import requests
from pyquery import PyQuery as pq

def parsehtml(url):
    all = []
    res = requests.get(url)
    res = requests.post(url, data={
        "startIssue": "",
        "endIssue": "",
        "sIssue": "2019001",
        "eIssue": "2019128",
        "maxsize": "100",
        "sortTag": "down",
        "openDate": "2019001^2019128",
        "currentPage": "1",
        "pageSize": "100",
        "gameIndex": "101",
        "pageInfo": "openInfo",
    })

    trlist = pq(res.text.replace('\xa9',''))('table tbody tr')
    for tr in trlist:
        item = {}
        textiter = pq(tr).text()
        item['data'] = textiter.split()
        all.append(item)
    return all


# print(parsehtml('http://zst.sina.aicai.com/ssq/openInfo/'))


if __name__ == '__main__':
    data = [{'data': ['2019128', '2019-11-07', '03', '08', '12', '16', '17', '19', '08', '342,336,168', '9', '6,051,317', '118', '100,231', '1,008,312,621']}, {'data': ['2019127', '2019-11-05', '02', '06', '07', '12', '17', '24', '10', '338,393,664', '15', '5,970,153', '227', '80,133', '1,027,292,513']}, {'data': ['2019126', '2019-11-03', '02', '14', '17', '29', '32', '33', '16', '369,776,508', '8', '7,151,842', '81', '265,659', '1,062,273,688']}, {'data': ['2019125', '2019-10-31', '02', '11', '12', '26', '27', '29', '03', '342,491,160', '8', '7,374,072', '253', '93,836', '1,054,933,143']}, {'data': ['2019124', '2019-10-29', '04', '09', '30', '31', '32', '33', '01', '337,939,626', '14', '6,175,971', '153', '134,506', '1,042,703,541']}, {'data': ['2019123', '2019-10-27', '02', '06', '08', '17', '28', '30', '06', '360,609,038', '19', '5,596,004', '366', '38,675', '1,067,428,638']}, {'data': ['2019122', '2019-10-24', '04', '10', '15', '19', '21', '23', '02', '334,989,390', '4', '10,000,000', '117', '226,282', '1,131,287,397']}, {'data': ['2019121', '2019-10-22', '02', '06', '15', '21', '30', '31', '02', '334,748,934', '15', '6,185,649', '138', '161,093', '1,091,862,134']}, {'data': ['2019120', '2019-10-20', '10', '12', '27', '31', '32', '33', '03', '361,613,906', '5', '8,898,140', '85', '286,627', '1,117,954,087']}, {'data': ['2019119', '2019-10-17', '04', '20', '22', '24', '26', '33', '07', '332,545,590', '9', '6,158,337', '73', '178,510', '1,089,354,655']}, {'data': ['2019118', '2019-10-15', '12', '14', '15', '25', '28', '31', '04', '329,400,746', '6', '8,013,754', '142', '159,177', '1,105,685,807']}, {'data': ['2019117', '2019-10-13', '03', '05', '11', '28', '32', '33', '01', '358,734,764', '5', '9,637,937', '135', '214,719', '1,085,958,852']}, {'data': ['2019116', '2019-10-10', '01', '08', '09', '13', '16', '33', '01', '336,502,106', '7', '8,062,689', '146', '183,551', '1,047,187,205']}, {'data': ['2019115', '2019-10-08', '04', '10', '11', '14', '15', '29', '05', '354,033,692', '8', '7,126,357', '137', '155,208', '1,023,230,427']}, {'data': ['2019114', '2019-09-29', '02', '04', '09', '11', '12', '30', '01', '372,847,052', '4', '10,000,000', '180', '167,444', '1,016,450,569']}, {'data': ['2019113', '2019-09-26', '01', '05', '19', '21', '25', '33', '15', '339,648,916', '5', '8,717,723', '118', '196,913', '966,030,310']}, {'data': ['2019112', '2019-09-24', '03', '12', '14', '17', '23', '27', '01', '335,430,712', '6', '8,762,335', '173', '163,107', '939,911,612']}, {'data': ['2019111', '2019-09-22', '07', '18', '20', '22', '24', '33', '01', '371,095,278', '6', '9,138,179', '82', '378,492', '907,833,069']}, {'data': ['2019110', '2019-09-19', '01', '18', '22', '26', '27', '28', '08', '345,297,696', '8', '7,132,577', '89', '239,615', '869,553,104']}, {'data': ['2019109', '2019-09-17', '03', '06', '07', '17', '28', '31', '10', '339,057,352', '5', '8,306,978', '218', '94,810', '862,636,404']}, {'data': ['2019108', '2019-09-15', '07', '13', '19', '22', '25', '32', '13', '361,553,454', '13', '6,413,151', '110', '208,761', '842,165,456']}, {'data': ['2019107', '2019-09-12', '02', '06', '08', '23', '27', '32', '02', '326,852,234', '2', '10,000,000', '54', '475,645', '856,645,293']}, {'data': ['2019106', '2019-09-10', '02', '14', '22', '27', '30', '33', '14', '330,410,652', '3', '10,000,000', '65', '385,201', '799,590,658']}, {'data': ['2019105', '2019-09-08', '02', '13', '15', '17', '26', '33', '01', '365,092,568', '6', '8,463,242', '85', '305,580', '754,476,375']}, {'data': ['2019104', '2019-09-05', '01', '05', '16', '17', '18', '24', '10', '336,503,558', '7', '6,848,206', '120', '134,765', '727,332,881']}, {'data': ['2019103', '2019-09-03', '04', '12', '14', '21', '27', '29', '12', '334,444,954', '2', '10,000,000', '101', '268,873', '726,754,909']}, {'data': ['2019102', '2019-09-01', '03', '08', '12', '16', '20', '32', '12', '365,310,214', '18', '5,786,187', '198', '89,339', '665,286,304']}, {'data': ['2019101', '2019-08-29', '01', '04', '09', '21', '31', '33', '05', '336,008,906', '4', '6,477,614', '77', '95,948', '716,370,043']}, {'data': ['2019100', '2019-08-27', '01', '04', '12', '13', '30', '32', '08', '334,319,180', '2', '10,000,000', '60', '404,624', '720,116,287']}, {'data': ['2019099', '2019-08-25', '07', '14', '22', '23', '27', '30', '08', '355,328,056', '26', '5,524,776', '185', '92,190', '667,283,924']}, {'data': ['2019098', '2019-08-22', '03', '11', '12', '14', '17', '26', '09', '334,187,522', '4', '9,535,306', '136', '166,739', '759,762,439']}, {'data': ['2019097', '2019-08-20', '03', '05', '18', '24', '25', '31', '09', '328,319,954', '5', '7,465,772', '98', '157,255', '729,874,065']}, {'data': ['2019096', '2019-08-18', '05', '07', '12', '18', '27', '32', '11', '355,103,324', '48', '5,399,584', '310', '77,338', '720,969,696']}, {'data': ['2019095', '2019-08-15', '02', '05', '14', '19', '21', '28', '01', '327,102,912', '3', '10,000,000', '95', '236,670', '908,224,516']}, {'data': ['2019094', '2019-08-13', '05', '10', '12', '18', '19', '27', '06', '318,739,184', '8', '6,822,140', '301', '60,536', '870,773,310']}, {'data': ['2019093', '2019-08-11', '05', '07', '08', '09', '20', '22', '02', '343,851,622', '27', '5,590,139', '629', '31,664', '870,686,214']}, {'data': ['2019092', '2019-08-08', '09', '17', '27', '28', '32', '33', '08', '325,113,036', '6', '6,573,767', '67', '176,168', '961,868,391']}, {'data': ['2019091', '2019-08-06', '07', '10', '21', '24', '29', '32', '11', '321,773,688', '2', '10,000,000', '94', '260,518', '965,901,226']}, {'data': ['2019090', '2019-08-04', '02', '03', '06', '08', '14', '22', '04', '355,808,718', '2', '10,000,000', '93', '289,490', '912,434,874']}, {'data': ['2019089', '2019-08-01', '02', '04', '14', '16', '20', '22', '11', '321,183,320', '7', '6,961,515', '104', '165,031', '851,666,935']}, {'data': ['2019088', '2019-07-30', '13', '14', '15', '21', '23', '29', '13', '320,442,344', '18', '5,697,370', '77', '203,777', '848,907,760']}, {'data': ['2019087', '2019-07-28', '04', '05', '07', '09', '21', '30', '04', '348,495,228', '5', '9,423,734', '99', '279,276', '904,387,916']}, {'data': ['2019086', '2019-07-25', '16', '22', '24', '26', '28', '31', '06', '318,423,888', '11', '6,364,807', '120', '156,384', '868,561,562']}, {'data': ['2019085', '2019-07-23', '01', '04', '14', '18', '24', '29', '04', '322,387,974', '12', '6,519,571', '61', '373,665', '882,276,151']}, {'data': ['2019084', '2019-07-21', '04', '08', '14', '18', '20', '27', '03', '356,282,880', '15', '5,979,203', '300', '61,200', '892,130,280']}, {'data': ['2019083', '2019-07-18', '06', '15', '17', '26', '28', '31', '03', '329,029,762', '10', '6,795,196', '118', '190,169', '926,738,145']}, {'data': ['2019082', '2019-07-16', '07', '16', '19', '22', '24', '28', '02', '328,221,990', '5', '8,270,886', '91', '224,648', '927,370,251']}, {'data': ['2019081', '2019-07-14', '05', '24', '27', '29', '31', '32', '10', '359,862,504', '5', '8,910,511', '58', '421,391', '907,395,563']}, {'data': ['2019080', '2019-07-11', '03', '06', '08', '20', '24', '32', '07', '333,601,616', '7', '6,502,641', '80', '164,351', '878,626,031']}, {'data': ['2019079', '2019-07-09', '01', '03', '06', '09', '19', '31', '16', '324,952,306', '15', '6,163,816', '156', '139,881', '884,700,186']}, {'data': ['2019078', '2019-07-07', '01', '17', '27', '29', '31', '33', '12', '358,699,764', '14', '6,369,078', '199', '120,396', '911,692,755']}, {'data': ['2019077', '2019-07-04', '09', '11', '13', '18', '21', '22', '15', '331,156,004', '1', '10,000,000', '118', '221,011', '928,983,242']}, {'data': ['2019076', '2019-07-02', '12', '15', '19', '20', '29', '32', '14', '327,737,064', '4', '10,000,000', '84', '299,030', '860,745,165']}, {'data': ['2019075', '2019-06-30', '05', '08', '20', '22', '31', '33', '03', '356,452,390', '2', '10,000,000', '69', '329,031', '825,389,586']}, {'data': ['2019074', '2019-06-27', '12', '21', '27', '29', '31', '33', '04', '339,313,032', '4', '10,000,000', '51', '558,701', '777,279,978']}, {'data': ['2019073', '2019-06-25', '01', '02', '06', '12', '16', '18', '08', '334,373,706', '17', '5,684,254', '146', '99,591', '731,798,593']}, {'data': ['2019072', '2019-06-23', '02', '09', '13', '15', '22', '30', '15', '366,310,328', '10', '6,995,170', '155', '160,900', '784,809,688']}, {'data': ['2019071', '2019-06-20', '01', '08', '19', '24', '29', '30', '04', '338,921,834', '22', '5,832,271', '371', '61,691', '779,942,491']}, {'data': ['2019070', '2019-06-18', '06', '15', '18', '19', '24', '32', '09', '335,727,814', '3', '10,000,000', '103', '182,464', '839,590,047']}, {'data': ['2019069', '2019-06-16', '06', '11', '16', '19', '21', '25', '01', '370,103,190', '8', '7,285,184', '226', '101,114', '813,208,375']}, {'data': ['2019068', '2019-06-13', '03', '14', '20', '24', '26', '33', '10', '331,635,522', '6', '8,093,762', '64', '362,550', '802,934,315']}, {'data': ['2019067', '2019-06-11', '04', '06', '08', '11', '30', '33', '11', '330,381,956', '5', '7,973,990', '110', '168,976', '781,887,228']}, {'data': ['2019066', '2019-06-09', '01', '14', '17', '20', '22', '32', '04', '354,505,682', '6', '8,522,847', '86', '307,225', '765,994,853']}, {'data': ['2019065', '2019-06-06', '06', '09', '11', '15', '20', '26', '10', '327,400,036', '10', '6,616,248', '317', '63,732', '737,867,862']}, {'data': ['2019064', '2019-06-04', '12', '20', '24', '25', '30', '33', '12', '331,639,006', '4', '9,064,360', '92', '220,889', '743,421,022']}, {'data': ['2019063', '2019-06-02', '01', '14', '19', '22', '29', '31', '16', '361,222,550', '5', '9,289,366', '91', '294,599', '718,713,061']}, {'data': ['2019062', '2019-05-30', '07', '13', '16', '23', '26', '30', '01', '339,468,976', '7', '8,340,699', '161', '181,559', '684,734,277']}, {'data': ['2019061', '2019-05-28', '03', '17', '19', '24', '27', '31', '12', '335,296,666', '6', '8,443,688', '80', '322,845', '655,425,812']}, {'data': ['2019060', '2019-05-26', '03', '04', '14', '20', '23', '27', '01', '367,103,342', '2', '10,000,000', '118', '246,389', '628,604,946']}, {'data': ['2019059', '2019-05-23', '04', '05', '07', '09', '16', '18', '06', '345,567,246', '2', '10,000,000', '125', '162,165', '561,383,166']}, {'data': ['2019058', '2019-05-21', '07', '08', '12', '21', '23', '27', '12', '339,299,672', '20', '5,260,714', '127', '51,321', '520,571,254']}, {'data': ['2019057', '2019-05-19', '04', '05', '06', '08', '13', '18', '16', '372,560,948', '7', '8,216,242', '127', '221,591', '606,231,938']}, {'data': ['2019056', '2019-05-16', '13', '14', '17', '19', '21', '29', '01', '351,267,630', '1', '10,000,000', '78', '245,905', '579,319,269']}, {'data': ['2019055', '2019-05-14', '01', '06', '11', '15', '19', '31', '10', '350,070,872', '2', '10,000,000', '61', '368,485', '531,777,347']}, {'data': ['2019054', '2019-05-12', '07', '10', '11', '15', '24', '26', '11', '376,075,414', '8', '6,741,103', '132', '131,901', '484,344,441']}, {'data': ['2019053', '2019-05-09', '04', '16', '22', '25', '29', '31', '08', '345,533,966', '12', '5,969,643', '109', '133,437', '486,040,155']}, {'data': ['2019052', '2019-05-07', '03', '06', '09', '13', '16', '19', '16', '342,251,970', '153', '5,117,604', '2295', '9,800', '514,041,918']}, {'data': ['2019051', '2019-05-05', '08', '09', '10', '13', '15', '28', '09', '371,316,762', '13', '5,503,869', '120', '68,232', '1,229,559,631']}, {'data': ['2019050', '2019-05-02', '04', '06', '10', '11', '21', '23', '02', '311,858,860', '13', '6,136,790', '100', '184,728', '1,276,546,288']}, {'data': ['2019049', '2019-04-30', '03', '10', '13', '22', '23', '28', '15', '333,775,314', '9', '6,552,485', '205', '85,197', '1,300,906,020']}, {'data': ['2019048', '2019-04-28', '03', '07', '10', '12', '18', '29', '10', '379,210,874', '8', '7,251,672', '153', '147,168', '1,307,482,004']}, {'data': ['2019047', '2019-04-25', '03', '11', '18', '25', '30', '33', '14', '349,665,886', '1', '10,000,000', '388', '69,165', '1,297,945,208']}, {'data': ['2019046', '2019-04-23', '02', '12', '16', '22', '25', '32', '06', '349,236,650', '17', '5,847,483', '132', '136,431', '1,227,436,396']}, {'data': ['2019045', '2019-04-21', '01', '06', '17', '19', '27', '31', '14', '380,577,960', '7', '8,172,099', '83', '334,408', '1,272,816,559']}, {'data': ['2019044', '2019-04-18', '06', '14', '16', '17', '23', '29', '07', '350,579,948', '12', '5,956,414', '188', '76,309', '1,246,753,637']}, {'data': ['2019043', '2019-04-16', '01', '06', '12', '13', '24', '32', '13', '345,296,562', '2', '10,000,000', '99', '249,954', '1,275,191,954']}, {'data': ['2019042', '2019-04-14', '15', '17', '19', '22', '25', '26', '04', '376,134,240', '4', '10,000,000', '132', '195,373', '1,220,955,571']}, {'data': ['2019041', '2019-04-11', '02', '09', '13', '23', '24', '26', '16', '347,145,834', '2', '10,000,000', '103', '274,965', '1,183,587,505']}, {'data': ['2019040', '2019-04-09', '05', '06', '09', '18', '23', '31', '11', '335,974,062', '8', '6,661,238', '159', '104,480', '1,118,623,191']}, {'data': ['2019039', '2019-04-07', '06', '07', '11', '14', '27', '32', '08', '363,128,750', '11', '6,258,711', '136', '127,259', '1,122,075,950']}, {'data': ['2019038', '2019-04-04', '09', '12', '21', '27', '29', '30', '05', '335,328,036', '10', '6,243,868', '101', '153,944', '1,138,999,919']}, {'data': ['2019037', '2019-04-02', '01', '07', '12', '14', '18', '25', '10', '344,923,376', '12', '6,514,774', '213', '106,674', '1,154,793,537']}, {'data': ['2019036', '2019-03-31', '02', '10', '13', '16', '23', '32', '08', '383,547,756', '21', '5,000,000', '85', '6,000', '1,164,805,979']}, {'data': ['2019035', '2019-03-28', '01', '05', '07', '09', '10', '20', '16', '354,951,028', '11', '7,034,000', '233', '120,032', '1,269,805,979']}, {'data': ['2019034', '2019-03-26', '09', '11', '15', '22', '24', '26', '03', '354,652,922', '10', '6,957,743', '103', '237,590', '1,263,277,472']}, {'data': ['2019033', '2019-03-24', '09', '15', '19', '21', '23', '29', '15', '385,168,218', '22', '6,000,111', '224', '122,781', '1,259,439,534']}, {'data': ['2019032', '2019-03-21', '04', '08', '09', '13', '28', '33', '04', '353,034,100', '6', '8,788,636', '228', '124,626', '1,308,932,812']}, {'data': ['2019031', '2019-03-19', '03', '13', '15', '18', '21', '33', '16', '358,344,316', '5', '9,429,639', '119', '232,649', '1,276,420,305']}, {'data': ['2019030', '2019-03-17', '04', '05', '07', '10', '12', '22', '16', '392,415,448', '17', '6,202,265', '196', '130,347', '1,240,512,761']}, {'data': ['2019029', '2019-03-14', '08', '11', '17', '23', '32', '33', '10', '358,515,950', '6', '8,343,406', '83', '302,115', '1,269,306,832']}]
    head = ['period', 'date', 'red1', 'red2', 'red3', 'red4', 'red5', 'red6', 'blue', 'amount', 'first_count', 'first_money', 'second_count', 'second_money', 'lave']
    # for d in data:
    #     print(list(d.values())[0])
    import csv
    with open('colors_ball.csv','w')as f:
        f_csv = csv.writer(f)
        f_csv.writerow(head)
        for row in data:
            f_csv.writerow(list(row.values())[0])